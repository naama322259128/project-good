{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, useCallback, useRef } from \"react\";\nimport { markAsUploadOptionsComponent, useUploadyContext } from \"@rpldy/shared-ui\";\n\nconst asUploadButton = Component => {\n  const AsUploadButton = (props, ref) => {\n    const {\n      showFileUpload\n    } = useUploadyContext();\n    const {\n      id,\n      className,\n      text,\n      children,\n      extraProps,\n      onClick,\n      ...uploadOptions\n    } = props; //using ref so onButtonClick can stay memoized\n\n    const uploadOptionsRef = useRef();\n    uploadOptionsRef.current = uploadOptions;\n    const onButtonClick = useCallback(e => {\n      showFileUpload(uploadOptionsRef.current);\n      onClick === null || onClick === void 0 ? void 0 : onClick(e);\n    }, [showFileUpload, uploadOptionsRef, onClick]);\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      ref: ref,\n      onClick: onButtonClick,\n      id: id,\n      className: className,\n      children: children || text || \"Upload\"\n    }, extraProps));\n  };\n\n  markAsUploadOptionsComponent(AsUploadButton);\n  return /*#__PURE__*/forwardRef(AsUploadButton);\n};\n\nexport default asUploadButton;","map":{"version":3,"sources":["D:/project-good/project/client/node_modules/@rpldy/upload-button/lib/esm/asUploadButton.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","forwardRef","useCallback","useRef","markAsUploadOptionsComponent","useUploadyContext","asUploadButton","Component","AsUploadButton","props","ref","showFileUpload","id","className","text","children","extraProps","onClick","uploadOptions","uploadOptionsRef","current","onButtonClick","e","createElement"],"mappings":"AAAA,SAASA,QAAT,GAAoB;AAAEA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,UAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOL,MAAP;AAAgB,GAA5P;;AAA8P,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,OAAOQ,KAAP,IAAgBC,UAAhB,EAA4BC,WAA5B,EAAyCC,MAAzC,QAAuD,OAAvD;AACA,SAASC,4BAAT,EAAuCC,iBAAvC,QAAgE,kBAAhE;;AAEA,MAAMC,cAAc,GAAGC,SAAS,IAAI;AAClC,QAAMC,cAAc,GAAG,CAACC,KAAD,EAAQC,GAAR,KAAgB;AACrC,UAAM;AACJC,MAAAA;AADI,QAEFN,iBAAiB,EAFrB;AAGA,UAAM;AACJO,MAAAA,EADI;AAEJC,MAAAA,SAFI;AAGJC,MAAAA,IAHI;AAIJC,MAAAA,QAJI;AAKJC,MAAAA,UALI;AAMJC,MAAAA,OANI;AAOJ,SAAGC;AAPC,QAQFT,KARJ,CAJqC,CAY1B;;AAEX,UAAMU,gBAAgB,GAAGhB,MAAM,EAA/B;AACAgB,IAAAA,gBAAgB,CAACC,OAAjB,GAA2BF,aAA3B;AACA,UAAMG,aAAa,GAAGnB,WAAW,CAACoB,CAAC,IAAI;AACrCX,MAAAA,cAAc,CAACQ,gBAAgB,CAACC,OAAlB,CAAd;AACAH,MAAAA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACK,CAAD,CAAzD;AACD,KAHgC,EAG9B,CAACX,cAAD,EAAiBQ,gBAAjB,EAAmCF,OAAnC,CAH8B,CAAjC;AAIA,WAAO,aAAajB,KAAK,CAACuB,aAAN,CAAoBhB,SAApB,EAA+BpB,QAAQ,CAAC;AAC1DuB,MAAAA,GAAG,EAAEA,GADqD;AAE1DO,MAAAA,OAAO,EAAEI,aAFiD;AAG1DT,MAAAA,EAAE,EAAEA,EAHsD;AAI1DC,MAAAA,SAAS,EAAEA,SAJ+C;AAK1DE,MAAAA,QAAQ,EAAEA,QAAQ,IAAID,IAAZ,IAAoB;AAL4B,KAAD,EAMxDE,UANwD,CAAvC,CAApB;AAOD,GA3BD;;AA6BAZ,EAAAA,4BAA4B,CAACI,cAAD,CAA5B;AACA,SAAO,aAAaP,UAAU,CAACO,cAAD,CAA9B;AACD,CAhCD;;AAkCA,eAAeF,cAAf","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\n\r\nimport React, { forwardRef, useCallback, useRef } from \"react\";\r\nimport { markAsUploadOptionsComponent, useUploadyContext } from \"@rpldy/shared-ui\";\r\n\r\nconst asUploadButton = Component => {\r\n  const AsUploadButton = (props, ref) => {\r\n    const {\r\n      showFileUpload\r\n    } = useUploadyContext();\r\n    const {\r\n      id,\r\n      className,\r\n      text,\r\n      children,\r\n      extraProps,\r\n      onClick,\r\n      ...uploadOptions\r\n    } = props; //using ref so onButtonClick can stay memoized\r\n\r\n    const uploadOptionsRef = useRef();\r\n    uploadOptionsRef.current = uploadOptions;\r\n    const onButtonClick = useCallback(e => {\r\n      showFileUpload(uploadOptionsRef.current);\r\n      onClick === null || onClick === void 0 ? void 0 : onClick(e);\r\n    }, [showFileUpload, uploadOptionsRef, onClick]);\r\n    return /*#__PURE__*/React.createElement(Component, _extends({\r\n      ref: ref,\r\n      onClick: onButtonClick,\r\n      id: id,\r\n      className: className,\r\n      children: children || text || \"Upload\"\r\n    }, extraProps));\r\n  };\r\n\r\n  markAsUploadOptionsComponent(AsUploadButton);\r\n  return /*#__PURE__*/forwardRef(AsUploadButton);\r\n};\r\n\r\nexport default asUploadButton;"]},"metadata":{},"sourceType":"module"}